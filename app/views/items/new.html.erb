<div class="container mt-4">
  <div class="card">
    <div class="card-body">
      <h1 class="card-title">Add New Item</h1>
      <%= form_with(model: @item, url: items_path, local: true, html: { class: 'form' }) do |form| %>
        <div class="form-group mb-3"> 
          <%= form.label :name, "Name<span class='text-danger'>*</span>".html_safe %>
          <%= form.text_field :name, class: 'form-control'%>
          <% if @item.errors[:name].any? %>
            <div class="text-danger">
              <%= 'Item name '+@item.errors[:name].join(", ") %>
            </div>
          <% end %>
        </div>
        <div class="form-group mb-3"> 
          <%= form.label :brand, "Brand<span class='text-danger'>*</span>".html_safe %>
          <%= form.collection_select :brand_id, Brand.all, :id, :name, { prompt: 'Select a Brand' }, class: 'form-control' %>
          <% if @item.errors[:brand].any? %>
            <div class="text-danger">
              <%= 'Brand '+@item.errors[:brand].join(", ") %>
            </div>
          <% end %>
        </div>
        <div class="form-group mb-3"> 
          <%= form.label :category, "Category<span class='text-danger'>*</span>".html_safe %>
          <%= form.collection_select :category_id, Category.all, :id, :name, { prompt: 'Select a Category' }, class: 'form-control'%>
          <% if @item.errors[:category].any? %>
            <div class="text-danger">
              <%= 'Category ' +@item.errors[:category].join(", ") %>
            </div>
          <% end %>
        </div>
        <div class="form-group mb-3">
          <%= form.label :employee %>
          <%= form.collection_select :employee_id, @employees, :id, :name, { prompt: 'Select an employee' }, class: 'form-control' %>
        </div>
        <div class="form-group mb-3"> 
          <%= form.label :status, "Status<span class='text-danger'>*</span>".html_safe %>
          <%= form.text_field :status, class: 'form-control' %>
          <% if @item.errors[:status].any? %>
            <div class="text-danger">
              <%= 'Status '+@item.errors[:status].join(", ") %>
            </div>
          <% end %>
        </div>
        <div class="form-group mb-3"> 
          <%= form.label :notes %>
          <%= form.text_area :notes, class: 'form-control' %>
        </div>
        <div class="form-group mb-3"> 
          <%= form.label :item_document, 'Upload Item Document' %>
          <%= form.file_field :item_document, class: 'form-control-file' %>
        </div>
        <div class="form-group text-center">
          <%= form.submit 'Create Item', class: 'btn btn-primary' %>
        </div>
      <% end %>
      <%= link_to 'Back to Items', items_path, class: 'btn btn-secondary mt-3' %>
    </div>
  </div>
</div>